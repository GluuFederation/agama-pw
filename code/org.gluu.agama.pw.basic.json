{
	"nodes": [
		{
			"data": {
				"agamaData": {
					"isTopLevelFlow": true,
					"basepath": "",
					"configParams": "{}",
					"creationDate": "22/11/2024",
					"nodeIcon": "material-symbols:line-start-square",
					"timeout": "500",
					"inputs": "",
					"configs": "",
					"flowname": "org.gluu.agama.pw.basic",
					"displayName": "Basic Login Flow",
					"hasComment": true,
					"comment": "Basic password login flow"
				},
				"id": "startNode-69955e8a-f46e-4354-ba8c-b89ec4afb0b3",
				"type": "startNode",
				"position": {
					"x": 50,
					"y": 200
				}
			},
			"type": "startNode",
			"id": "startNode-69955e8a-f46e-4354-ba8c-b89ec4afb0b3",
			"position": {
				"x": 50,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:equal",
					"displayName": "Declare variables",
					"hasComment": true,
					"comment": "Create variable to receive validation result",
					"assignments": [
						{
							"variableTypeCheck": false,
							"assignmentExpression": "{}",
							"assignedVariableName": "validationResult"
						}
					]
				},
				"id": "assignmentNode-2646744f-4052-4d6c-810d-c67aa0567d13",
				"type": "assignmentNode",
				"position": {
					"x": 300,
					"y": 200
				},
				"previousNodeId": "startNode-69955e8a-f46e-4354-ba8c-b89ec4afb0b3"
			},
			"type": "assignmentNode",
			"id": "assignmentNode-2646744f-4052-4d6c-810d-c67aa0567d13",
			"position": {
				"x": 300,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:code",
					"displayName": "Initialize",
					"hasComment": true,
					"comment": "Get an instance of PasswordService Class",
					"javaClassName": "org.gluu.agama.pw.basic.PasswordService",
					"javaMethodName": "getInstance",
					"javaVariableName": "",
					"exceptionVariableField": "",
					"callType": "Call static method",
					"arguments": [],
					"asssignedVariableName": "passwordValidationService"
				},
				"id": "callNode-6534f22d-d529-4042-a8f8-220d0999c28d",
				"type": "callNode",
				"position": {
					"x": 550,
					"y": 200
				},
				"previousNodeId": "assignmentNode-2646744f-4052-4d6c-810d-c67aa0567d13"
			},
			"type": "callNode",
			"id": "callNode-6534f22d-d529-4042-a8f8-220d0999c28d",
			"position": {
				"x": 550,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:event-repeat-outline-rounded",
					"displayName": "Validation loop",
					"hasComment": true,
					"comment": "Iterate x times max",
					"maxIteration": "3",
					"maxIterationVariableName": "currentIteration"
				},
				"id": "repeatNode-7fc76f75-6be8-4f2c-9733-ce6181e94095",
				"type": "repeatNode",
				"position": {
					"x": 800,
					"y": 200
				},
				"previousNodeId": "callNode-6534f22d-d529-4042-a8f8-220d0999c28d"
			},
			"type": "repeatNode",
			"id": "repeatNode-7fc76f75-6be8-4f2c-9733-ce6181e94095",
			"position": {
				"x": 800,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:line-end-square-rounded",
					"displayName": "Maximum attempt reached",
					"hasComment": true,
					"comment": "Maximum attempts reached. Password validation failed!",
					"returnVariable": "Password validation failed!",
					"finishMode": "withFailure"
				},
				"id": "finishNode-110609c1-4876-400e-b08e-619688c0e48a",
				"type": "finishNode",
				"position": {
					"x": 1050,
					"y": 200
				},
				"previousNodeId": "repeatNode-7fc76f75-6be8-4f2c-9733-ce6181e94095",
				"branching": "continue"
			},
			"type": "finishNode",
			"id": "finishNode-110609c1-4876-400e-b08e-619688c0e48a",
			"position": {
				"x": 1050,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "ph:globe-simple",
					"displayName": "Login Form",
					"hasComment": true,
					"comment": "Retrieve user credentials from UI",
					"arguments": [
						"validationResult"
					],
					"templatePath": "login-basic.ftlh",
					"asssignedVariableName": "credentials"
				},
				"id": "rrfNode-d4f0c7cd-910d-42a4-a672-8baa7b11f054",
				"type": "rrfNode",
				"position": {
					"x": 1050,
					"y": 450
				},
				"previousNodeId": "repeatNode-7fc76f75-6be8-4f2c-9733-ce6181e94095",
				"branching": "repeat"
			},
			"type": "rrfNode",
			"id": "rrfNode-d4f0c7cd-910d-42a4-a672-8baa7b11f054",
			"position": {
				"x": 1050,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "Log information",
					"hasComment": true,
					"comment": "Log the successfull  used credentials retrieval.",
					"logMessage": "\"User credentials collected successfully!\"",
					"logLevel": "info"
				},
				"id": "logNode-df194add-e498-4946-b146-70da7d18fa5a",
				"type": "logNode",
				"position": {
					"x": 1300,
					"y": 450
				},
				"previousNodeId": "rrfNode-d4f0c7cd-910d-42a4-a672-8baa7b11f054"
			},
			"type": "logNode",
			"id": "logNode-df194add-e498-4946-b146-70da7d18fa5a",
			"position": {
				"x": 1300,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:code",
					"displayName": "Validate credentials",
					"hasComment": true,
					"comment": "Validate provided user credentials",
					"javaClassName": "",
					"javaMethodName": "validate",
					"javaVariableName": "passwordValidationService",
					"exceptionVariableField": "",
					"callType": "Call method on instance",
					"arguments": [
						"credentials.username",
						"credentials.password"
					],
					"asssignedVariableName": "validationResult.status"
				},
				"id": "callNode-c59f4fb8-031d-48aa-8eb6-1186f8e68051",
				"type": "callNode",
				"position": {
					"x": 1550,
					"y": 450
				},
				"previousNodeId": "logNode-df194add-e498-4946-b146-70da7d18fa5a"
			},
			"type": "callNode",
			"id": "callNode-c59f4fb8-031d-48aa-8eb6-1186f8e68051",
			"position": {
				"x": 1550,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"hasComment": true,
					"comment": "If user credentials is valid",
					"conditions": [
						{
							"variable": "validationResult.status",
							"operator": "is",
							"dataValue": "true",
							"combinator": "none"
						}
					]
				},
				"id": "whenNode-65ea7b0a-3208-4adf-a260-4506ddbe4a51",
				"type": "whenNode",
				"position": {
					"x": 1800,
					"y": 450
				},
				"previousNodeId": "callNode-c59f4fb8-031d-48aa-8eb6-1186f8e68051"
			},
			"type": "whenNode",
			"id": "whenNode-65ea7b0a-3208-4adf-a260-4506ddbe4a51",
			"position": {
				"x": 1800,
				"y": 450
			},
			"measured": {
				"width": 110,
				"height": 60
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "Log successful login attempt",
					"hasComment": true,
					"comment": "add entry in log file for successfull login attempt",
					"logMessage": "\"Valid credentials provided.\"",
					"logLevel": "info"
				},
				"id": "logNode-182ee330-c12e-4a53-8859-d7f631429aa8",
				"type": "logNode",
				"position": {
					"x": 2050,
					"y": 700
				},
				"previousNodeId": "whenNode-65ea7b0a-3208-4adf-a260-4506ddbe4a51",
				"branching": "success"
			},
			"type": "logNode",
			"id": "logNode-182ee330-c12e-4a53-8859-d7f631429aa8",
			"position": {
				"x": 2050,
				"y": 700
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:line-end-square-rounded",
					"displayName": "Password validation completed",
					"hasComment": true,
					"comment": "Password validation completed successfuly!",
					"returnVariable": "{ userId: credentials.username}",
					"finishMode": "withSuccess"
				},
				"id": "finishNode-4e71b5d8-70df-49cb-ad68-cf59aea1445d",
				"type": "finishNode",
				"position": {
					"x": 2300,
					"y": 700
				},
				"previousNodeId": "logNode-182ee330-c12e-4a53-8859-d7f631429aa8"
			},
			"type": "finishNode",
			"id": "finishNode-4e71b5d8-70df-49cb-ad68-cf59aea1445d",
			"position": {
				"x": 2300,
				"y": 700
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "Log failed attempt",
					"hasComment": true,
					"comment": "Invalid credentials provided",
					"logMessage": "\"Invalid credentials provided.\"",
					"logLevel": "info"
				},
				"id": "logNode-1fef5c7b-7d9d-46d3-a930-598b63c19229",
				"type": "logNode",
				"position": {
					"x": 2050,
					"y": 450
				},
				"previousNodeId": "whenNode-65ea7b0a-3208-4adf-a260-4506ddbe4a51",
				"branching": "continue"
			},
			"type": "logNode",
			"id": "logNode-1fef5c7b-7d9d-46d3-a930-598b63c19229",
			"position": {
				"x": 2050,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:equal",
					"displayName": "Provide feedback",
					"hasComment": true,
					"comment": "Provide feedback about the error message to user",
					"assignments": [
						{
							"variableTypeCheck": true,
							"assignmentExpression": "The provided credentials are not valid. Please try again!",
							"assignedVariableName": "validationResult.errorMessage"
						}
					]
				},
				"id": "assignmentNode-479e21a3-8602-4026-9255-e309951b650a",
				"type": "assignmentNode",
				"position": {
					"x": 2300,
					"y": 450
				},
				"previousNodeId": "logNode-1fef5c7b-7d9d-46d3-a930-598b63c19229"
			},
			"type": "assignmentNode",
			"id": "assignmentNode-479e21a3-8602-4026-9255-e309951b650a",
			"position": {
				"x": 2300,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		}
	],
	"edges": [
		{
			"id": "startNode-69955e8a-f46e-4354-ba8c-b89ec4afb0b3-assignmentNode-2646744f-4052-4d6c-810d-c67aa0567d13",
			"type": "default",
			"source": "startNode-69955e8a-f46e-4354-ba8c-b89ec4afb0b3",
			"target": "assignmentNode-2646744f-4052-4d6c-810d-c67aa0567d13",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_startNode-69955e8a-f46e-4354-ba8c-b89ec4afb0b3"
		},
		{
			"id": "assignmentNode-2646744f-4052-4d6c-810d-c67aa0567d13-callNode-6534f22d-d529-4042-a8f8-220d0999c28d",
			"type": "default",
			"source": "assignmentNode-2646744f-4052-4d6c-810d-c67aa0567d13",
			"target": "callNode-6534f22d-d529-4042-a8f8-220d0999c28d",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_assignmentNode-2646744f-4052-4d6c-810d-c67aa0567d13"
		},
		{
			"id": "callNode-6534f22d-d529-4042-a8f8-220d0999c28d-repeatNode-7fc76f75-6be8-4f2c-9733-ce6181e94095",
			"type": "default",
			"source": "callNode-6534f22d-d529-4042-a8f8-220d0999c28d",
			"target": "repeatNode-7fc76f75-6be8-4f2c-9733-ce6181e94095",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_callNode-6534f22d-d529-4042-a8f8-220d0999c28d"
		},
		{
			"id": "repeatNode-7fc76f75-6be8-4f2c-9733-ce6181e94095-finishNode-110609c1-4876-400e-b08e-619688c0e48a",
			"type": "default",
			"source": "repeatNode-7fc76f75-6be8-4f2c-9733-ce6181e94095",
			"target": "finishNode-110609c1-4876-400e-b08e-619688c0e48a",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "continue",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_repeatNode-7fc76f75-6be8-4f2c-9733-ce6181e94095_continue"
		},
		{
			"id": "repeatNode-7fc76f75-6be8-4f2c-9733-ce6181e94095-rrfNode-d4f0c7cd-910d-42a4-a672-8baa7b11f054",
			"type": "default",
			"source": "repeatNode-7fc76f75-6be8-4f2c-9733-ce6181e94095",
			"target": "rrfNode-d4f0c7cd-910d-42a4-a672-8baa7b11f054",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "repeat",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_repeatNode-7fc76f75-6be8-4f2c-9733-ce6181e94095_repeat"
		},
		{
			"id": "rrfNode-d4f0c7cd-910d-42a4-a672-8baa7b11f054-logNode-df194add-e498-4946-b146-70da7d18fa5a",
			"type": "default",
			"source": "rrfNode-d4f0c7cd-910d-42a4-a672-8baa7b11f054",
			"target": "logNode-df194add-e498-4946-b146-70da7d18fa5a",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_rrfNode-d4f0c7cd-910d-42a4-a672-8baa7b11f054"
		},
		{
			"id": "logNode-df194add-e498-4946-b146-70da7d18fa5a-callNode-c59f4fb8-031d-48aa-8eb6-1186f8e68051",
			"type": "default",
			"source": "logNode-df194add-e498-4946-b146-70da7d18fa5a",
			"target": "callNode-c59f4fb8-031d-48aa-8eb6-1186f8e68051",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-df194add-e498-4946-b146-70da7d18fa5a"
		},
		{
			"id": "callNode-c59f4fb8-031d-48aa-8eb6-1186f8e68051-whenNode-65ea7b0a-3208-4adf-a260-4506ddbe4a51",
			"type": "default",
			"source": "callNode-c59f4fb8-031d-48aa-8eb6-1186f8e68051",
			"target": "whenNode-65ea7b0a-3208-4adf-a260-4506ddbe4a51",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_callNode-c59f4fb8-031d-48aa-8eb6-1186f8e68051"
		},
		{
			"id": "whenNode-65ea7b0a-3208-4adf-a260-4506ddbe4a51-logNode-182ee330-c12e-4a53-8859-d7f631429aa8",
			"type": "default",
			"source": "whenNode-65ea7b0a-3208-4adf-a260-4506ddbe4a51",
			"target": "logNode-182ee330-c12e-4a53-8859-d7f631429aa8",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "Condition met",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_whenNode-65ea7b0a-3208-4adf-a260-4506ddbe4a51_success"
		},
		{
			"id": "logNode-182ee330-c12e-4a53-8859-d7f631429aa8-finishNode-4e71b5d8-70df-49cb-ad68-cf59aea1445d",
			"type": "default",
			"source": "logNode-182ee330-c12e-4a53-8859-d7f631429aa8",
			"target": "finishNode-4e71b5d8-70df-49cb-ad68-cf59aea1445d",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-182ee330-c12e-4a53-8859-d7f631429aa8"
		},
		{
			"id": "whenNode-65ea7b0a-3208-4adf-a260-4506ddbe4a51-logNode-1fef5c7b-7d9d-46d3-a930-598b63c19229",
			"type": "default",
			"source": "whenNode-65ea7b0a-3208-4adf-a260-4506ddbe4a51",
			"target": "logNode-1fef5c7b-7d9d-46d3-a930-598b63c19229",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "continue",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_whenNode-65ea7b0a-3208-4adf-a260-4506ddbe4a51_continue"
		},
		{
			"id": "logNode-1fef5c7b-7d9d-46d3-a930-598b63c19229-assignmentNode-479e21a3-8602-4026-9255-e309951b650a",
			"type": "default",
			"source": "logNode-1fef5c7b-7d9d-46d3-a930-598b63c19229",
			"target": "assignmentNode-479e21a3-8602-4026-9255-e309951b650a",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-1fef5c7b-7d9d-46d3-a930-598b63c19229"
		}
	],
	"viewport": {
		"x": 11.878767612114189,
		"y": 19.930049100130475,
		"zoom": 0.6070974421975234
	}
}